<!-- header.html (partial) -->

<!-- Loader Markup -->
<div id="loader">
  <iframe src="animatedlogo.html" frameborder="0" scrolling="no"></iframe>
</div>

<!-- Navigation Bar (Dark Header with Smart Hide/Show) -->
<nav id="main-nav">
  <!-- Brand (Logo & Text) -->
  <a href="index.html" class="brand">
    <img src="images/Azafranes Carrera Logo.svg" alt="Azafran Carrera Logo" class="logo-image">
    <span class="brand-text">Azafran Carrera</span>
  </a>

  <!-- Hamburger Icon for mobile -->
  <div class="hamburger" onclick="toggleMenu()">
    <span></span>
    <span></span>
    <span></span>
  </div>

  <!-- Navigation Links -->
  <ul id="nav-links">
    <li><a href="index.html#home">Home</a></li>
    <li><a href="products.html">Products</a></li>
    <li><a href="recipes.html">Recipes</a></li>
    <li><a href="shop.html">Shop</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li class="dropdown">
      <a href="#">
        <img src="images/flag_uk.svg" alt="English" class="flag-icon">
      </a>
      <div class="dropdown-content">
        <a href="index.html?lang=en">
          <img src="images/flag_uk.svg" alt="English" class="flag-icon"> English
        </a>
        <a href="index.html?lang=es">
          <img src="images/flag_es.svg" alt="Español" class="flag-icon"> Español
        </a>
        <a href="index.html?lang=de">
          <img src="images/flag_de.svg" alt="Deutsch" class="flag-icon"> Deutsch
        </a>
      </div>
    </li>
  </ul>
</nav>

<script>
  // SessionStorage Loader (appears once per session)
  document.addEventListener("DOMContentLoaded", function() {
    const loader = document.getElementById("loader");
    if (!sessionStorage.getItem("loaderShown")) {
      setTimeout(() => {
        loader.style.clipPath = "circle(0% at center)";
        loader.addEventListener("transitionend", () => {
          loader.style.display = "none";
          sessionStorage.setItem("loaderShown", "true");
        });
      }, 1500);
    } else {
      loader.style.display = "none";
    }
  });

  // Toggle Menu for mobile
  function toggleMenu() {
    const navLinks = document.getElementById('nav-links');
    navLinks.classList.toggle('active');
  }

  // Smart header hide/show
  let lastScrollY = window.scrollY;
  const nav = document.getElementById("main-nav");
  window.addEventListener("scroll", () => {
    if (window.scrollY > lastScrollY && window.scrollY > 100) {
      nav.style.top = "-120px";
    } else {
      nav.style.top = "0";
    }
    lastScrollY = window.scrollY;
  });
  document.addEventListener("mousemove", e => {
    if (e.clientY < 50) {
      nav.style.top = "0";
    }
  });
</script>
